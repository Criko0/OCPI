{
  "$ref": "#/definitions/ocpi.2_2_1.sessions.response",
  "definitions": {
    "ocpi.2_2_1.sessions.response": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "country_code": {
                "type": "string",
                "minLength": 2,
                "maxLength": 2
              },
              "party_id": {
                "type": "string",
                "maxLength": 3
              },
              "id": {
                "type": "string",
                "maxLength": 36
              },
              "start_date_time": {
                "type": "string",
                "format": "date-time"
              },
              "end_date_time": {
                "anyOf": [
                  {
                    "type": "string",
                    "format": "date-time"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "kwh": {
                "type": "number",
                "minimum": 0
              },
              "cdr_token": {
                "type": "object",
                "properties": {
                  "uid": {
                    "type": "string",
                    "maxLength": 36
                  },
                  "type": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": [
                          "AD_HOC_USER",
                          "APP_USER",
                          "OTHER",
                          "RFID"
                        ]
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "contract_id": {
                    "type": "string",
                    "maxLength": 36
                  },
                  "country_code": {
                    "type": "string",
                    "maxLength": 2
                  },
                  "party_id": {
                    "type": "string",
                    "maxLength": 3
                  }
                },
                "required": [
                  "uid",
                  "contract_id",
                  "country_code",
                  "party_id"
                ],
                "additionalProperties": false
              },
              "auth_method": {
                "type": "string",
                "enum": [
                  "AUTH_REQUEST",
                  "COMMAND",
                  "WHITELIST"
                ]
              },
              "authorization_reference": {
                "anyOf": [
                  {
                    "type": "string",
                    "maxLength": 36
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "location_id": {
                "type": "string",
                "maxLength": 36
              },
              "evse_uid": {
                "type": "string",
                "maxLength": 36
              },
              "connector_id": {
                "type": "string",
                "maxLength": 36
              },
              "meter_id": {
                "anyOf": [
                  {
                    "type": "string",
                    "maxLength": 255
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "currency": {
                "type": "string",
                "minLength": 3,
                "maxLength": 3
              },
              "charging_periods": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "start_date_time": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "dimensions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "CURRENT",
                                  "ENERGY",
                                  "ENERGY_EXPORT",
                                  "ENERGY_IMPORT",
                                  "MAX_CURRENT",
                                  "MIN_CURRENT",
                                  "MAX_POWER",
                                  "MIN_POWER",
                                  "PARKING_TIME",
                                  "POWER",
                                  "RESERVATION_TIME",
                                  "STATE_OF_CHARGE",
                                  "TIME"
                                ]
                              },
                              "volume": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "type",
                              "volume"
                            ],
                            "additionalProperties": false
                          },
                          "minItems": 1
                        },
                        "tariff_id": {
                          "anyOf": [
                            {
                              "type": "string",
                              "maxLength": 36
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [
                        "start_date_time",
                        "dimensions"
                      ],
                      "additionalProperties": false
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "total_cost": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "excl_vat": {
                        "type": "number",
                        "minimum": 0
                      },
                      "incl_vat": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "required": [
                      "excl_vat"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "status": {
                "type": "string",
                "enum": [
                  "ACTIVE",
                  "COMPLETED",
                  "INVALID",
                  "PENDING",
                  "RESERVATION"
                ]
              },
              "last_updated": {
                "type": "string",
                "format": "date-time"
              }
            },
            "required": [
              "country_code",
              "party_id",
              "id",
              "start_date_time",
              "kwh",
              "cdr_token",
              "auth_method",
              "location_id",
              "evse_uid",
              "connector_id",
              "currency",
              "status",
              "last_updated"
            ],
            "additionalProperties": false
          }
        },
        "status_code": {
          "type": "integer",
          "minimum": 1000,
          "maximum": 1999
        },
        "status_message": {
          "type": [
            "string",
            "null"
          ]
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "data",
        "status_code",
        "timestamp"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}